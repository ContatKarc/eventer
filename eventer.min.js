var Eventer={v:.45,events:{},events_once:{},filters:{},filters_once:{},stop:!1,debug:!1,on:function(a,c,b,d){"object"!=typeof Eventer.events[a]&&(Eventer.events[a]={});if(!d)for(b=b?b:50;"function"==typeof Eventer.events[a][b];)b++;Eventer.events[a][b]=c;this.debug&&console.log("Eventer.on",arguments);return Eventer},off:function(a,c){c?delete Eventer.events[a][c]:delete Eventer.events[a]},trigger:function(a,c,b,d,g){Eventer._run_functions(!1,a,c,b,d,g);this.debug&&console.log("Eventer.trigger",arguments)},
filter:function(a,c,b){this.debug&&console.log("Eventer.filter",arguments);return Eventer.has_filters(a)?Eventer._run_functions(!0,a,c,b,!1,!0):c[0]},has_filters:function(a){for(var c in Eventer.filters[a])return!0;return!1},add_filter:function(a,c,b,d){"object"!=typeof Eventer.filters[a]&&(Eventer.filters[a]={});if(!d)for(b=b?b:50;"function"==typeof Eventer.filters[a][b];)b++;Eventer.filters[a][b]=c;this.debug&&console.log("Eventer.add_filter",arguments)},remove_filter:function(a,c){c?delete Eventer.filters[a][c]:
delete Eventer.filters[a];this.debug&&console.log("Eventer.remove_filter",arguments);return!0},_run_functions:function(a,c,b,d,g){Eventer.stop=!1;var e=a?Eventer.filters:Eventer.events;if(e[c]){"undefined"==typeof b&&(b=[]);0==a&&b.unshift({type:"eventer"});for(var k=Object.keys(e[c]),h=0;h<k.length;h++){var f=k[h];if("function"==typeof e[c][f])try{g?setTimeout(function(){e[c][f].apply(d,b)},0):0==Eventer.stop&&(a?(filtered=e[c][f].apply(d,b),"undefined"!==typeof filtered&&(b[1]=filtered)):e[c][f].apply(d,
b))}catch(l){}}return a?b[1]:!0}}};
